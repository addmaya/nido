jQuery(document).ready(function(a){function b(){var b=a(".o-articles__list");b.isotope({itemSelector:".o-articles__list__item"}),a(".o-articles").on("click",".js-fetch-posts",function(c){c.preventDefault();var d=a(this),e=d.data("type"),f=d.data("cat");a.ajax({url:ajaxurl,data:{action:"fetch_posts",post:e,offset:s,cat:f},dataType:"text",beforeSend:function(){d.addClass("is-loading"),console.log("love"),console.log("no-delay"),a("body").addClass("no-delay")},success:function(c){d.removeClass("is-loading"),"null"!=c?(a(".o-articles__list").append(c),b.isotope("reloadItems").isotope(),s+=parseInt(posts_page)):(d.next(".o-status").html("No more Posts"),a("html, body").animate({scrollTop:0},500))}})})}function c(){a(".js-lazy").each(function(){var b=a(this),c=b.data("thumb");b.css("background-image","url("+c+")")})}function d(){a(document).on("click",'a[href*="#"]:not([href="#"])',function(b){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var c=a(this.hash);c=c.length?c:a("[name="+this.hash.slice(1)+"]"),c.length&&(a("html, body").animate({scrollTop:c.offset().top},1e3),b.preventDefault())}})}function e(){a(window).scrollTop()>200?(a(".c-menu").addClass("s--static"),a(".js-top").show()):(a(".c-menu").removeClass("s--static"),a(".js-top").hide())}function f(){a("body").removeClass("u-oh"),a(".c-pop__box .u-canvas").html(""),a(".c-pop").hide()}function g(){a(".alignnone").closest("p").addClass("s--reset"),a(".highcharts-iframe").closest("p").addClass("s--reset")}function h(){Modernizr.input.placeholder||(a("input[placeholder], textarea[placeholder]").each(function(){var b=a(this).attr("placeholder");""==this.value&&(this.value=b),a(this).focus(function(){this.value==b&&(this.value="")}).blur(function(){""==a.trim(this.value)&&(this.value=b)})}),a("#form_contact").submit(function(){a(this).find("input[placeholder], textarea[placeholder]").each(function(){this.value==a(this).attr("placeholder")&&(this.value="")})})),Modernizr.input.required?a("#form_contact").ajaxForm({beforeSend:function(){a("#form_contact .o-form__status").html("Sending...")},success:function(){a("#form_contact .o-form__status").html("Thank you. Your Message was sent"),a("#form_contact input[type=submit]").val("Send Message"),a("#form_contact input[type=text]").val(""),a("#form_contact textarea").val("")},resetForm:!0}):(a.validator.addMethod("valueNotEquals",function(a,b,c){return c!=a},"Value must not equal arg."),a("#form_contact").validate({rules:{txt_name:{valueNotEquals:"Your Name",required:!0},txt_telephone:{valueNotEquals:"Telephone",required:!0},txt_email:{valueNotEquals:"Email",required:!0},txt_message:{valueNotEquals:"Message",required:!0}},errorPlacement:function(a,b){},invalidHandler:function(b,c){a("#form_contact .o-form__status").html("Check the fields in red")},submitHandler:function(b){a(b).ajaxSubmit({beforeSend:function(){a("#form_contact .o-form__status").html("Sending...")},success:function(){a("#form_contact .o-form__status").html("Thank you. Your Message was sent"),a("#form_contact input[name=txt_name]").val(a("input[name=txt_name]").attr("placeholder")),a("#form_contact input[name=txt_email]").val(a("input[name=txt_email]").attr("placeholder")),a("#form_contact input[name=txt_telephone]").val(a("input[name=txt_telephone]").attr("placeholder")),a("#form_contact textarea").val(a("textarea").attr("placeholder"))}})}}))}function j(){p(),a("#map").length&&a.ajax({url:asigma.ajaxurl,dataType:"json",data:{action:"get_plots"},success:function(a){k(a)}}),a("body").on("click","a.c-pop__close",function(){return plotIndex=a(this).attr("attr-index"),o(plotIndex),!1})}function k(b){console.log("loadMap"),styles=[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}];var c=new GMaps({div:"#map",lat:.28139986747911,lng:32.529698989423,mapType:"satellite",scrollwheel:!1});c.setZoom(16),c.addStyle({styledMapName:"Styled Map",styles:styles,mapTypeId:"asigma_map_style"}),a.each(b,function(b,d){path=[],a.each(d.coordinates,function(a,b){path.push(new google.maps.LatLng(b.lat,b.lng))}),d.area=Math.round(.0247157686604*google.maps.geometry.spherical.computeArea(path)),d.price=r(d),l(c.map,path,d)})}function l(a,b,c){plotColor=u,c.sold===!0&&(plotColor=v),status=c.sold===!0?"Sold":"Available",labelContent='<div class="label-content">',labelContent+='<h6 class="c-plot__title">'+c.name+"</h6>",labelContent+="<span>"+status+"</span>",labelContent+="<span>"+c.area+" Decimals</span>",0!==c.price&&(labelContent+="<span>Est. Price: "+c.price+"</span>"),labelContent+="</div>";var d=new MarkerWithLabel({position:new google.maps.LatLng(0,0),draggable:!1,raiseOnDrag:!1,map:a,labelContent:labelContent,labelAnchor:new google.maps.Point(150,20),labelClass:"labels",labelStyle:{opacity:1},icon:"http://placehold.it/1x1",visible:!1}),e=new google.maps.Polygon({paths:b,strokeColor:plotColor,strokeOpacity:.8,strokeWeight:3,fillColor:plotColor,fillOpacity:.35,map:a});c.center=q(b),c.polygon=e,google.maps.event.addListener(e,"mousemove",function(a){d.setPosition(a.latLng),d.setVisible(!0),hoverColor=w,c.sold===!0&&(hoverColor=x),this.setOptions({strokeColor:hoverColor,fillColor:hoverColor})}),google.maps.event.addListener(e,"mouseout",function(a){d.setVisible(!1),plotIndex=m(c),plotIndex===-1&&(plotColor=u,c.sold===!0&&(plotColor=v),this.setOptions({strokeColor:plotColor,fillColor:plotColor}))}),google.maps.event.addListener(e,"click",function(a){this.getMap().setZoom(18),this.getMap().setCenter(a.latLng),n(c,e)})}function m(a){plotIndex=-1;for(var b=0;b<t.length;b++)if(a.id===t[b].id){plotIndex=b;break}return plotIndex}function n(a,b){a.sold!==!0&&(plotColor=u,plotIndex=m(a),plotIndex!=-1?t.splice(plotIndex,1):(plotColor=w,t.push(a)),b.setOptions({strokeColor:plotColor,fillColor:plotColor}),p())}function o(a){plot=t[a],plot.polygon.setOptions({strokeColor:u,fillColor:u}),t.splice(a,1),p()}function p(){0==t.length?(a(".no-plots").show(),a("ul.c-plots__list").hide(),a(".c-map__meta .o-figure").html(t.length),a(".c-map__meta .o-button").hide()):(a(".no-plots").hide(),a("ul.c-plots__list").empty().show(),a(".plot-summary").show(),a(".c-map__meta .o-button").show(),totalArea=0,a.each(t,function(b,c){a('<li><span class="c-plot__id">'+c.name+" ("+c.area+' Decimals)</span><a class="c-pop__close" href="#" class="remove-plot" title="Remove Plot" attr-index="'+b+'"></a></li>').appendTo("ul.c-plots__list"),totalArea+=c.area}),a(".c-map__meta .o-figure").html(t.length))}function q(a){var b=new google.maps.LatLngBounds;for(i=0;i<a.length;i++)b.extend(a[i]);return b.getCenter()}function r(a){switch(price=0,a.area){case 12:price="UGX 37,000,000";break;case 13:price="UGX 43,333,300";break;case 15:price="UGX 50,000,000";break;case 19:price="UGX 63,333,300";break;case 20:price="UGX 66,666,600"}return price}var s=parseInt(posts_page),t=[],u="#BBD8E9",v="#FFCDD2",w="#3290c7",x="#e05866";a(".o-menu").on("click","a",function(){a(".o-menu").find(".is-active").removeClass("is-active"),a(this).addClass("is-active")}),a(".c-menu__toggle").click(function(b){b.preventDefault(),a(this).toggleClass("is-open"),a(".c-header").toggleClass("is-open")}),a(".c-logo a").click(function(){a(".c-menu").find(".is-active").removeClass("is-active")}),a(".c-menu").on("click",".c-menu__item a",function(){var b=a(this);a(".c-menu").find(".is-active").removeClass("is-active"),b.closest(".c-menu__item").addClass("is-active"),a(".o-contacts").removeClass("u-white"),a(".c-header").removeClass("is-open"),a(".c-menu__toggle").removeClass("is-open")}),a(".js-show-contact").click(function(){a(".o-contacts").addClass("u-white"),a(".c-header").removeClass("is-open"),a(".c-menu__toggle").removeClass("is-open")}),a(window).scroll(function(){e()}),a("body").on("click","a",function(){var b=a(this),c=b.data("target"),d=a(".js-"+c);a(".c-header");c&&(d.hasClass("is-active")||(a(".c-menu").find(".is-active").removeClass("is-active"),d.addClass("is-active")),"project"==c&&a(".c-line-2").hide())});var y=Barba.BaseView.extend({namespace:"posts",onEnter:function(){b()}});y.init();var z=Barba.BaseView.extend({namespace:"project",onEnter:function(){a("body").addClass("t-project"),a(".c-line-2, .c-line-4").addClass("u-hide"),j(),h()},onLeave:function(){a("body").removeClass("t-project"),a(".c-line-2, .c-line-4").removeClass("u-hide")}});z.init();var A=Barba.BaseView.extend({namespace:"home",onEnter:function(){a("html").addClass("u-height"),a("body").addClass("t-dark");var b=new Swiper(".c-slider__wrap",{loop:!0,speed:1200,pagination:".swiper-pagination",nextButton:".swiper-button-next",prevButton:".swiper-button-prev",autoplay:8e3,autoplayDisableOnInteraction:!1,onTransitionStart:function(){a(".c-hotspots").find(".is-animating").removeClass("is-animating")},onTransitionEnd:function(b){function c(b){a(".c-hotspots").find(".is-active").removeClass("is-active"),a(b).closest(".c-hotspots__item").addClass("is-active"),a(b).find(".o-line--hotspot").addClass("is-animating")}var d=b.activeIndex-1,e=".c-hotspots .u-col-"+d.toString();c(6!=d?e:".c-hotspots .u-col-0")}});a(".swiper-slide .o-button").click(function(){a("body").removeClass("t-dark")}),a(".c-hotspots").on("click","a",function(c){c.preventDefault();var d=a(this),e=parseInt(d.data("slide-index"));a(".c-hotspots").find(".is-active").removeClass("is-active"),d.closest(".c-hotspots__item").addClass("is-active"),b.slideTo(e)})},onLeave:function(){a("html").addClass("u-height"),a("body").removeClass("t-dark")}});A.init();var B=Barba.BaseView.extend({namespace:"contact",onEnter:function(){h(),a("body").addClass("t-contact"),a(".c-line-2, .c-line-4").addClass("u-hide")},onLeave:function(){a("body").removeClass("t-contact"),a(".c-line-2, .c-line-4").removeClass("u-hide")}});B.init(),Barba.Pjax.start();var C=Barba.BaseTransition.extend({start:function(){a("html, body").animate({scrollTop:0},"slow"),Promise.all([this.newContainerLoading,this.fadeOut()]).then(this.fadeIn.bind(this)),a(".c-loader").addClass("is-visible"),a("body").removeClass("no-delay"),s=parseInt(posts_page)},fadeOut:function(){return a(this.oldContainer).animate({opacity:0}).promise()},fadeIn:function(){var b=this,e=a(this.newContainer);a(this.oldContainer).hide(),e.css({visibility:"visible",opacity:0}),a(".c-loader").addClass("is-animating-out"),window.setTimeout(function(){a(".c-loader").removeClass("is-visible is-animating-out")},1e3),e.animate({opacity:1},400,function(){b.done(),c(),d(),g()})}});Barba.Pjax.getTransition=function(){return C},c(),d(),g(),a(".o-button--video").click(function(b){return b.preventDefault(),a("body").addClass("u-oh"),a(".c-pop").show(),a(".c-pop__box .u-canvas").html("<iframe id=ytplayer type=text/html src=https://www.youtube.com/embed/aixSUf0c7Cc?autoplay=1></iframe>"),!1}),a(".c-pop__close").click(function(a){a.preventDefault(),f()}),a(".c-pop").click(function(){f()}),a(".c-pop .c-pop__box").click(function(a){a.stopPropagation()}),a(".js-top").click(function(){a("html, body").animate({scrollTop:0},"slow")})});